/* This file was generated by SableCC's ObjectMacro. */

package org.sablecc.sablecc.errormessages;

public class M_internal_error
        extends Macro {

    // ---- constructor ----

    public M_internal_error(
            String p_stack_trace,
            String p_message) {

        this.p_stack_trace = p_stack_trace;
        this.p_message = p_message;
    }

    // ---- parent ----

    @Override
    Macro get_parent() {

        return null;
    }

    // ---- parameters ----

    private final String p_stack_trace;

    String get_local_p_stack_trace() {

        return this.p_stack_trace;
    }

    private final String p_message;

    String get_local_p_message() {

        return this.p_message;
    }

    // ---- parameter accessors ----

    private String cached_p_stack_trace;

    private String get_p_stack_trace() {

        String result = this.cached_p_stack_trace;

        if (result == null) {
            Macro current = this;

            while (!(current instanceof M_internal_error)) {
                current = current.get_parent();
            }

            result = ((M_internal_error) current).get_local_p_stack_trace();
            this.cached_p_stack_trace = result;
        }

        return result;
    }

    private String cached_p_message;

    private String get_p_message() {

        String result = this.cached_p_message;

        if (result == null) {
            Macro current = this;

            while (!(current instanceof M_internal_error)) {
                current = current.get_parent();
            }

            result = ((M_internal_error) current).get_local_p_message();
            this.cached_p_message = result;
        }

        return result;
    }

    // ---- appendTo ----

    @Override
    public void appendTo(
            StringBuilder sb) {

        sb.append("*** INTERNAL ERROR ***");
        sb.append(EOL);
        sb.append(EOL);
        sb.append(get_p_stack_trace());
        sb.append(EOL);
        sb.append("An internal error was raised with the following message:");
        sb.append(EOL);
        sb.append(" ");
        sb.append(get_p_message());
        sb.append(".");
        sb.append(EOL);
        sb.append(EOL);
        sb
                .append("Please submit a defect ticket with the full error trace above on:");
        sb.append(EOL);
        sb.append(" http://sablecc.org/");
        sb.append(EOL);
    }

}
